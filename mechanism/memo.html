
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Aide-mémoire &#8212; Documentation Plume 0.3.0-beta</title>
    
    <link href="../_static/styles/theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=1999514e3f237ded88cf" rel="stylesheet">
  
    
    <link rel="stylesheet"
      href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
    <link rel="preload" as="font" type="font/woff2" crossorigin
      href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">
  
    
      
  
    
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/pydata-sphinx-theme.css" />
    
    <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf">
  
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="prev" title="Usage" href="mechanism.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="fr">
    

    <!-- Google Analytics -->
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    
    <nav class="navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="container-xl">

  <div id="navbar-start">
    
    
<a class="navbar-brand" href="../index.html">
<p class="title">Plume</p>
</a>

    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../usage/usage.html">
  Usage
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../reference/modules.html">
  Référence
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="mechanism.html">
  Usage
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/MTES-MCT/metadata-postgresql" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="container-xl">
      <div class="row">
          
            
            <!-- Only show if we have sidebars configured, else just a small margin  -->
            <div class="col-12 col-md-3 bd-sidebar">
              <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Aide-mémoire
  </a>
 </li>
</ul>

  </div>
</nav>
              </div>
              <div class="sidebar-end-items">
              </div>
            </div>
            
          

          
          <div class="d-none d-xl-block col-xl-2 bd-toc">
            
              
              <div class="toc-item">
                
<div class="tocsection onthispage pt-5 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#execution-des-tests">
   Exécution des tests
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#generer-un-zip-propre-du-plugin">
   Générer un ZIP propre du plugin
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#modifier-les-categories-de-metadonnees-communes">
   Modifier les catégories de métadonnées communes
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#schema-des-metadonnees-communes">
     Schéma des métadonnées communes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#declaration-de-l-espace-de-nommage">
     Déclaration de l’espace de nommage
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mise-a-jour-de-la-liste-des-metadonnees-communes-de-la-documentation-technique">
     Mise à jour de la liste des métadonnées communes de la documentation technique
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#mise-a-jour-des-categories-communes-dans-les-scripts-de-plumepg">
     Mise à jour des catégories communes dans les scripts de
     <em>
      PlumePg
     </em>
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ajouter-une-option-de-configuration-des-categories-de-metadonnees">
   Ajouter une option de configuration des catégories de métadonnées
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id2">
     Schéma des métadonnées communes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#deserialisation-du-schema-des-metadonnees-communes">
     Désérialisation du schéma des métadonnées communes
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extension-plumepg">
     Extension
     <em>
      PlumePg
     </em>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#import-des-modeles-de-formulaires">
     Import des modèles de formulaires
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#deserialisation-des-modeles-de-formulaire">
     Désérialisation des modèles de formulaire
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#croisement-du-schema-et-du-modele">
     Croisement du schéma et du modèle
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#arbre-des-cles">
     Arbre des clés
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dictionnaire-interne">
     Dictionnaire interne
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#dictionnaire-de-widgets">
     Dictionnaire de widgets
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#generation-du-formulaire">
     Génération du formulaire
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#modifier-les-modeles-pre-configures-de-plumepg">
   Modifier les modèles pré-configurés de
   <em>
    PlumePg
   </em>
  </a>
 </li>
</ul>

</nav>
              </div>
              
              <div class="toc-item">
                
              </div>
              
            
          </div>
          

          
          
            
          
          <main class="col-12 col-md-9 col-xl-7 py-md-5 pl-md-5 pr-md-4 bd-content" role="main">
              
              <div>
                
  <section id="aide-memoire">
<h1>Aide-mémoire<a class="headerlink" href="#aide-memoire" title="Lien permanent vers ce titre">¶</a></h1>
<p>Cette page récapitule les actions à réaliser pour maintenir et modifier différents aspects du fonctionnement de Plume.</p>
<p><span class="xref myst">Exécution des tests</span> • <span class="xref myst">Générer un ZIP propre du plugin</span> • <span class="xref myst">Modifier les catégories de métadonnées communes</span> • <span class="xref myst">Ajouter une option de configuration des catégories de métadonnées</span> • <span class="xref myst">Modifier les modèles pré-configurés de <em>PlumePg</em></span></p>
<section id="execution-des-tests">
<h2>Exécution des tests<a class="headerlink" href="#execution-des-tests" title="Lien permanent vers ce titre">¶</a></h2>
<p>On lancera le script <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">/admin/tests.py</span></code></span> qui compile les tests de tous les modules de Plume.</p>
</section>
<section id="generer-un-zip-propre-du-plugin">
<h2>Générer un ZIP propre du plugin<a class="headerlink" href="#generer-un-zip-propre-du-plugin" title="Lien permanent vers ce titre">¶</a></h2>
<p>Pour générer une archive utilisable par QGIS pour installer le plugin Plume, expurgée des fichiers de tests et autres éléments sans intérêt pour les utiliseurs, on exécutera :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="kn">from</span> <span class="nn">admin.zip_plume</span> <span class="kn">import</span> <span class="n">zip_plume</span>

<span class="n">zip_plume</span><span class="p">()</span>

</pre></div>
</div>
<p>Par défaut, le fichier ZIP est créé à la racine du dépôt, mais on pourra fournir en argument à <code class="docutils literal notranslate"><span class="pre">admin.zip_plume.zip_plume</span></code> le chemin absolu d’un autre répertoire cible. Dans tous les cas, l’archive sera nommée <code class="docutils literal notranslate"><span class="pre">plume.zip</span></code>.</p>
</section>
<section id="modifier-les-categories-de-metadonnees-communes">
<h2>Modifier les catégories de métadonnées communes<a class="headerlink" href="#modifier-les-categories-de-metadonnees-communes" title="Lien permanent vers ce titre">¶</a></h2>
<section id="schema-des-metadonnees-communes">
<h3>Schéma des métadonnées communes<a class="headerlink" href="#schema-des-metadonnees-communes" title="Lien permanent vers ce titre">¶</a></h3>
<p>Les catégories communes sont définies dans le fichier <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">/plume/rdf/data/shape.ttl</span></code></span>, dit <em>schéma des métadonnées communes</em>. La première étape consiste à éditer manuellement ce fichier  (RDF encodé en turtle).</p>
<p><em>TODO: détailler le paramétrage des catégories (informations obligatoires selon le type RDF, etc.).</em></p>
</section>
<section id="declaration-de-l-espace-de-nommage">
<h3>Déclaration de l’espace de nommage<a class="headerlink" href="#declaration-de-l-espace-de-nommage" title="Lien permanent vers ce titre">¶</a></h3>
<p>Si la modification implique l’usage d’un espace de nommage qui n’avait encore jamais été utilisé, son préfixe devra naturellement être ajouté dans l’en-tête du fichier <code class="docutils literal notranslate"><span class="pre">shape.ttl</span></code>, sans quoi la désérialisation du fichier échouera.</p>
<div class="highlight-turtle notranslate"><div class="highlight"><pre><span></span><span class="k">@prefix</span><span class="w"> </span><span class="nn">gsp:</span><span class="w"> </span><span class="nv">&lt;http://www.opengis.net/ont/geosparql#&gt;</span><span class="w"> </span><span class="p">.</span>
</pre></div>
</div>
<p>Le préfixe ne devra comporter que des lettres minuscules.</p>
<p>Il faudra ensuite le déclarer dans le module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.rdf.namespaces</span></code></span>, qui gère les espaces de nommage de Plume. Cette opération est importante car Plume utilise la notation N3 pour les exports et, surtout, dans les modèles de formulaire.</p>
<p>Concrètement, il s’agit d’ajouter un objet <code class="docutils literal notranslate"><span class="pre">rdflib.namespace.Namespace</span></code> à ceux déjà définis au début du fichier.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="n">GSP</span> <span class="o">=</span> <span class="n">Namespace</span><span class="p">(</span><span class="s1">&#39;http://www.opengis.net/ont/geosparql#&#39;</span><span class="p">)</span>

</pre></div>
</div>
<p>Le nouvel espace de nommage devra ensuite être ajouté au dictionnaire <code class="docutils literal notranslate"><span class="pre">namespaces</span></code> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="n">namespaces</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="s1">&#39;gsp&#39;</span> <span class="p">:</span> <span class="n">GSP</span><span class="p">,</span>
    <span class="o">...</span>
    <span class="p">}</span>

</pre></div>
</div>
<p>La clé de <code class="docutils literal notranslate"><span class="pre">namespaces</span></code> devra être identique au préfixe utilisé dans <code class="docutils literal notranslate"><span class="pre">shape.ttl</span></code>. La variable référençant l’objet <code class="docutils literal notranslate"><span class="pre">rdflib.namespace.Namespace</span></code> porte le même nom en majuscules<a class="footnote-reference brackets" href="#local" id="id1">1</a>.</p>
</section>
<section id="mise-a-jour-de-la-liste-des-metadonnees-communes-de-la-documentation-technique">
<h3>Mise à jour de la liste des métadonnées communes de la documentation technique<a class="headerlink" href="#mise-a-jour-de-la-liste-des-metadonnees-communes-de-la-documentation-technique" title="Lien permanent vers ce titre">¶</a></h3>
<p>La liste des métadonnées communes présentée dans le fichier <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">/docs/source/usage/metadonnees_communes.md</span></code></span> est mise à jour par la commande suivante :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">admin.docs</span> <span class="kn">import</span> <span class="n">shared_metadata_as_page</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">shared_metadata_as_page</span><span class="p">()</span>

</pre></div>
</div>
</section>
<section id="mise-a-jour-des-categories-communes-dans-les-scripts-de-plumepg">
<h3>Mise à jour des catégories communes dans les scripts de <em>PlumePg</em><a class="headerlink" href="#mise-a-jour-des-categories-communes-dans-les-scripts-de-plumepg" title="Lien permanent vers ce titre">¶</a></h3>
<p>La commande suivante permet de générer la commande <code class="docutils literal notranslate"><span class="pre">INSERT</span></code> qui ajoute toutes les métadonnées communes à la table <code class="docutils literal notranslate"><span class="pre">z_plume.meta_categorie</span></code> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="o">&gt;&gt;&gt;</span> <span class="kn">from</span> <span class="nn">admin.plume_pg</span> <span class="kn">import</span> <span class="n">query_from_shape</span>
<span class="o">&gt;&gt;&gt;</span> <span class="n">query_from_shape</span><span class="p">()</span>

</pre></div>
</div>
<p>Le résultat doit être copié dans le script de création de l’extension, soit un fichier <code class="docutils literal notranslate"><span class="pre">plume_pg--x.x.x.sql</span></code> du répertoire <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">/postgresql</span></code></span> portant le numéro de la version à venir de l’extension.</p>
<p>Pour le script de mise à jour depuis la version précédente, il sera généralement préférable de limiter les commandes aux catégories effectivement modifiées.</p>
</section>
</section>
<section id="ajouter-une-option-de-configuration-des-categories-de-metadonnees">
<h2>Ajouter une option de configuration des catégories de métadonnées<a class="headerlink" href="#ajouter-une-option-de-configuration-des-categories-de-metadonnees" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les explications qui suivent prennent l’exemple de l’option <code class="docutils literal notranslate"><span class="pre">geo_tools</span></code>, qui définit les fonctionnalités d’aide à la saisie des géométries à proposer pour la catégorie. Chaque cas nécessitera évidemment des adaptations selon les mécanismes associés à l’option, mais le principe restera le même. Toute nouvelle option doit être implémentée à chaque niveau de Plume : schéma des métadonnées communes (fichier <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">shape.ttl</span></code></span>), désérialisation du schéma métadonnées communes (module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.rdf.properties</span></code></span>), modèles de formulaires (extension <span class="xref myst"><em>PlumePg</em></span>), import des modèles de formulaire (module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.pg.queries</span></code></span>), désérialisation des modèles de formulaire (module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.pg.template</span></code></span>), arbre des clés (module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.rdf.widgetkey</span></code></span>), dictionnaire interne (module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.rdf.internaldict</span></code></span>), dictionnaire de widgets (module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.rdf.widgetsdict</span></code></span>), construction du formulaire (description des modalités dans <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">creation_widgets.md</span></code></span>).</p>
<section id="id2">
<h3>Schéma des métadonnées communes<a class="headerlink" href="#id2" title="Lien permanent vers ce titre">¶</a></h3>
<p>Sauf à ce que l’option considérée ait vocation à être exclusivement gérée via les modèles de formulaire, on voudra généralement l’associer à certaines catégories définies par le schéma des métadonnées communes. Ceci suppose de compléter manuellement le fichier <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">shape.ttl</span></code></span>.</p>
<p>Si elle n’est pas nativement prévue par le language <a class="reference external" href="https://www.w3.org/TR/shacl/">SHACL</a>, on utilisera l’espace de nommage dont le préfixe est <code class="docutils literal notranslate"><span class="pre">snum</span></code>. Par convention, le nom de l’option devra être écrit en CamlCase, avec une minuscule sur le premier caractère puisqu’il s’agit d’une propriété et non d’une classe.</p>
<p>Pour l’aide à la saisie des géométries, c’est ainsi le prédicat <code class="docutils literal notranslate"><span class="pre">snum:geoTool</span></code> qui a été utilisé :</p>
<div class="highlight-turtle notranslate"><div class="highlight"><pre><span></span><span class="nn">snum</span><span class="p">:</span><span class="nt">LocationShape</span>
    <span class="kt">a</span> <span class="nn">sh</span><span class="p">:</span><span class="nt">NodeShape</span> <span class="p">;</span>
    <span class="nn">sh</span><span class="p">:</span><span class="nt">targetClass</span> <span class="nn">dct</span><span class="p">:</span><span class="nt">Location</span> <span class="p">;</span>
    <span class="nn">sh</span><span class="p">:</span><span class="nt">closed</span> <span class="l">true</span> <span class="p">;</span>
    <span class="nn">sh</span><span class="p">:</span><span class="nt">ignoredProperties</span> <span class="p">(</span> <span class="nn">rdf</span><span class="p">:</span><span class="nt">type</span> <span class="p">)</span> <span class="p">;</span>
    <span class="nn">sh</span><span class="p">:</span><span class="nt">property</span> <span class="p">[</span>
		<span class="nn">sh</span><span class="p">:</span><span class="nt">path</span> <span class="nn">dcat</span><span class="p">:</span><span class="nt">centroid</span> <span class="p">;</span>
		<span class="nn">sh</span><span class="p">:</span><span class="nt">name</span> <span class="s">&quot;Centroïde&quot;</span><span class="o">@</span><span class="ge">fr</span> <span class="p">;</span>
        <span class="nn">sh</span><span class="p">:</span><span class="nt">description</span> <span class="s">&quot;Localisant du centre géographique des données, au format textuel WKT.&quot;</span><span class="o">@</span><span class="ge">fr</span> <span class="p">;</span>
        <span class="nn">sh</span><span class="p">:</span><span class="nt">nodeKind</span> <span class="nn">sh</span><span class="p">:</span><span class="nt">Literal</span> <span class="p">;</span>
        <span class="nn">sh</span><span class="p">:</span><span class="nt">datatype</span> <span class="nn">gsp</span><span class="p">:</span><span class="nt">wktLiteral</span> <span class="p">;</span>
        <span class="nn">sh</span><span class="p">:</span><span class="nt">maxCount</span> <span class="mi">1</span> <span class="p">;</span>
        <span class="nn">sh</span><span class="p">:</span><span class="nt">order</span> <span class="mi">4</span> <span class="p">;</span>
        <span class="nn">snum</span><span class="p">:</span><span class="nt">longText</span> <span class="l">true</span> <span class="p">;</span>
        <span class="nn">snum</span><span class="p">:</span><span class="nt">placeholder</span> <span class="s">&quot;&lt;http://www.opengis.net/def/crs/EPSG/0/2154&gt; POINT(651796.3281 6862298.5858)&quot;</span> <span class="p">;</span>
        <span class="nn">snum</span><span class="p">:</span><span class="nt">geoTool</span> <span class="s">&quot;show&quot;</span><span class="p">,</span>
            <span class="s">&quot;centroid&quot;</span><span class="p">,</span>
            <span class="s">&quot;point&quot;</span> <span class="p">;</span>
	<span class="p">]</span>  <span class="p">;</span>
</pre></div>
</div>
<p>L’option peut avoir plusieurs valeurs, il faudra juste penser à le déclarer dans la suite.</p>
</section>
<section id="deserialisation-du-schema-des-metadonnees-communes">
<h3>Désérialisation du schéma des métadonnées communes<a class="headerlink" href="#deserialisation-du-schema-des-metadonnees-communes" title="Lien permanent vers ce titre">¶</a></h3>
<p>C’est la fonction <code class="docutils literal notranslate"><span class="pre">read_shape_property</span></code> du module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.rdf.properties</span></code></span> qui a la charge de lire et d’interpréter le contenu du fichier <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">shape.ttl</span></code></span>. Elle a besoin de connaître à l’avance les options à rechercher.</p>
<p>On ajoutera donc à son dictionnaire <code class="docutils literal notranslate"><span class="pre">prop_map</span></code> la nouvelle option :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="n">prop_map</span> <span class="o">=</span> <span class="p">{</span>
    <span class="o">...</span>
    <span class="n">SNUM</span><span class="o">.</span><span class="n">geoTool</span><span class="p">:</span> <span class="p">(</span><span class="s1">&#39;geo_tools&#39;</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
    <span class="p">}</span>

</pre></div>
</div>
<p>La clé est l’IRI de l’option de configuration, dont le nom coïncide donc avec celui qui a été utilisé dans <code class="docutils literal notranslate"><span class="pre">shape.ttl</span></code>.</p>
<p>La valeur est un tuple dont le premier élément est le nom qui sera systématiquement donné à l’option dans le code de Plume. Par convention, il est formé de lettres minuscules avec le tiret bas comme séparateur. Il doit ressembler suffisamment à l’IRI pour qu’il ne fasse aucun doute que l’objet est le même. Le deuxième élément du tuple est un booléen qui indique si l’option peut prendre plusieurs valeurs (<code class="docutils literal notranslate"><span class="pre">True</span></code>) ou non (<code class="docutils literal notranslate"><span class="pre">False</span></code>). S’il vaut <code class="docutils literal notranslate"><span class="pre">False</span></code> une seule valeur sera considérée même s’il se trouvait y en avoir plusieurs dans <code class="docutils literal notranslate"><span class="pre">shape.ttl</span></code>.</p>
</section>
<section id="extension-plumepg">
<h3>Extension <em>PlumePg</em><a class="headerlink" href="#extension-plumepg" title="Lien permanent vers ce titre">¶</a></h3>
<p>Le plus souvent, une nouvelle option de configuration se manifestera dans <em>PlumePg</em> par un champ supplémentaire dans les tables <code class="docutils literal notranslate"><span class="pre">z_plume.meta_categorie</span></code> (ainsi que ses partitions <code class="docutils literal notranslate"><span class="pre">z_plume.meta_shared_categorie</span></code> et <code class="docutils literal notranslate"><span class="pre">z_plume.meta_local_categorie</span></code>) et <code class="docutils literal notranslate"><span class="pre">z_plume.meta_template_categories</span></code>, ainsi que la vue <code class="docutils literal notranslate"><span class="pre">z_plume.meta_template_categories_full</span></code>. Autant que possible, le nom du champ sera identique au nom python de l’option de configuration correspondante (le premier élément du tuple de <code class="docutils literal notranslate"><span class="pre">prop_map</span></code> évoqué dans le paragraphe précédent), soit <code class="docutils literal notranslate"><span class="pre">geo_tools</span></code> pour l’exemple considéré.</p>
<p>Si le champ n’admet que des valeurs pré-déterminées, on pourra définir un type énuméré semblable à <code class="docutils literal notranslate"><span class="pre">z_plume.meta_datatype</span></code>.</p>
<p>Pour l’actualisation des informations relatives aux métadonnées communes incluses dans <em>PlumePg</em>, on se reportera à <span class="xref myst">Mise à jour des catégories communes dans les scripts de <em>PlumePg</em></span>. Il faudra néanmoins commencer par modifier les fonctions <code class="docutils literal notranslate"><span class="pre">_table_from_shape</span></code> et <code class="docutils literal notranslate"><span class="pre">query_from_shape</span></code> pour qu’elles prennent en compte le nouveau champ.</p>
<p>Dans <code class="docutils literal notranslate"><span class="pre">_table_from_shape</span></code>, il s’agira d’ajouter le champ au tuple <code class="docutils literal notranslate"><span class="pre">category</span></code>. Dans le cas général, <code class="docutils literal notranslate"><span class="pre">prop_dict.get('option')</span></code> suffit (où <code class="docutils literal notranslate"><span class="pre">option</span></code> est le nom python de l’option de configuration). S’il est nécessaire de caster la valeur, on utilisera la même syntaxe que pour <code class="docutils literal notranslate"><span class="pre">geo_tool</span></code> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
        <span class="o">...</span>
        <span class="n">geo_tools</span> <span class="o">=</span> <span class="n">prop_dict</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="s1">&#39;geo_tools&#39;</span><span class="p">)</span>
        <span class="o">...</span>
        <span class="n">category</span> <span class="o">=</span> <span class="p">(</span>
            <span class="o">...</span><span class="p">,</span>
            <span class="p">(</span><span class="s1">&#39;cast&#39;</span><span class="p">,</span> <span class="n">geo_tools</span><span class="p">,</span> <span class="s1">&#39;z_plume.meta_geo_tool[]&#39;</span><span class="p">)</span> <span class="k">if</span> <span class="n">geo_tools</span> \
                <span class="ow">and</span> <span class="ow">not</span> <span class="n">no_cast</span> <span class="k">else</span> <span class="n">geo_tools</span><span class="p">,</span>
            <span class="o">...</span>
            <span class="p">)</span>

</pre></div>
</div>
<p>Dans <code class="docutils literal notranslate"><span class="pre">query_from_shape</span></code> on ajoute le champ supplémentaire à ceux qui apparaissent dans la commande <code class="docutils literal notranslate"><span class="pre">INSERT</span></code>, en prenant soin de respecter l’ordre du tuple <code class="docutils literal notranslate"><span class="pre">category</span></code> de <code class="docutils literal notranslate"><span class="pre">_table_from_shape</span></code>.</p>
</section>
<section id="import-des-modeles-de-formulaires">
<h3>Import des modèles de formulaires<a class="headerlink" href="#import-des-modeles-de-formulaires" title="Lien permanent vers ce titre">¶</a></h3>
<p>Pour que le nouveau champ des tables et vues de <em>PlumePg</em> soit exploité, encore faut-il que son contenu soit importé par Plume.</p>
<p>Ceci suppose de l’ajouter dans la requête définie par la fonction <code class="docutils literal notranslate"><span class="pre">query_get_categories</span></code> du module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.pg.queries</span></code></span> :</p>
<div class="highlight-sql notranslate"><div class="highlight"><pre><span></span><span class="k">SELECT</span><span class="w"> </span>
<span class="w">    </span><span class="p">...</span><span class="w"></span>
<span class="w">    </span><span class="n">geo_tools</span><span class="p">::</span><span class="nb">text</span><span class="p">[],</span><span class="w"></span>
<span class="w">    </span><span class="p">...</span><span class="w"></span>
<span class="w">    </span><span class="k">FROM</span><span class="w"> </span><span class="n">z_plume</span><span class="p">.</span><span class="n">meta_template_categories_full</span><span class="w"></span>
<span class="w">    </span><span class="k">WHERE</span><span class="w"> </span><span class="n">tpl_label</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">%</span><span class="n">s</span><span class="w"></span>
</pre></div>
</div>
<p>Psycopg ne reconnaissant pas les types personnalisés, il est préférable de caster toutes les valeurs dont le type n’est pas standard en <code class="docutils literal notranslate"><span class="pre">text</span></code>, <code class="docutils literal notranslate"><span class="pre">text[]</span></code> ou autre type standard adapté.</p>
</section>
<section id="deserialisation-des-modeles-de-formulaire">
<h3>Désérialisation des modèles de formulaire<a class="headerlink" href="#deserialisation-des-modeles-de-formulaire" title="Lien permanent vers ce titre">¶</a></h3>
<p>C’est maintenant la fonction d’initialisation de la classe <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.pg.template.TemplateDict</span></code></span> qu’il s’agit d’ajuster.</p>
<p>La boucle <code class="docutils literal notranslate"><span class="pre">for</span></code> nomme les colonnes du résultat de la requête <code class="docutils literal notranslate"><span class="pre">query_get_categories</span></code> susmentionnée. Il faut donc y ajouter le nouveau champ, en s’assurant de respecter l’ordre de <code class="docutils literal notranslate"><span class="pre">query_get_categories</span></code>.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
        <span class="k">for</span> <span class="n">path</span><span class="p">,</span> <span class="n">origin</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span> <span class="n">geo_tools</span><span class="p">,</span> <span class="o">...</span> \
            <span class="ow">in</span> <span class="nb">sorted</span><span class="p">(</span><span class="n">categories</span><span class="p">,</span> <span class="n">reverse</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>

</pre></div>
</div>
<p>Puis le déclarer dans le dictionnaire <code class="docutils literal notranslate"><span class="pre">config</span></code> :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
            <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
                <span class="o">...</span>
                <span class="s1">&#39;geo_tools&#39;</span><span class="p">:</span> <span class="n">geo_tools</span><span class="p">,</span>
                <span class="o">...</span>
                <span class="p">}</span>

</pre></div>
</div>
<p>La clé de <code class="docutils literal notranslate"><span class="pre">config</span></code> doit impérativement porter le nom <span class="xref myst">déclaré dans <code class="docutils literal notranslate"><span class="pre">read_shape_property</span></code></span> (premier élément du tuple de <code class="docutils literal notranslate"><span class="pre">prop_map</span></code>).</p>
<p><em>NB. D’une manière générale, la validation et les conversions sont plutôt du ressort du module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.rdf.widgetkey</span></code></span>, le constructeur de <code class="docutils literal notranslate"><span class="pre">TemplateDict</span></code> tend donc à reprendre telles quelles les informations issues du modèle. Il peut cependant être nécessaire de retraiter les valeurs à ce niveau dans le cas particulier d’une option pour laquelle les valeurs issues du modèle ne remplacent pas simplement les valeurs du schéma des métadonnées communes, mais nécessitent d’être comparées (cf. paragraphe suivant), ce qui supposent que les formats soient comparables.</em></p>
</section>
<section id="croisement-du-schema-et-du-modele">
<h3>Croisement du schéma et du modèle<a class="headerlink" href="#croisement-du-schema-et-du-modele" title="Lien permanent vers ce titre">¶</a></h3>
<p>Par défaut, Plume considère que si une catégorie apparaît à la fois dans le modèle et dans le schéma des métadonnées communes :</p>
<ul class="simple">
<li><p>les options de configuration définies dans le modèle prévalent sur celle du schéma ;</p></li>
<li><p>les options du schéma s’appliquent quand le modèle ne dit rien.</p></li>
</ul>
<p>S’il était nécessaire d’avoir un comportement différent pour l’option considérée, c’est la fonction <code class="docutils literal notranslate"><span class="pre">merge_property_dict</span></code> du module <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.rdf.properties</span></code></span> qui devrait être modifiée en ce sens.</p>
</section>
<section id="arbre-des-cles">
<h3>Arbre des clés<a class="headerlink" href="#arbre-des-cles" title="Lien permanent vers ce titre">¶</a></h3>
<p>L’arbre des clés est la colonne vertébrale de Plume. Il porte la structure des formulaires de saisie, garantie leur cohérence et permet leur évolution dynamique selon les commandes de l’utilisateur.</p>
<p>Avec les opérations précédentes, on aura fait en sorte que les constructeurs des clés  (<code class="docutils literal notranslate"><span class="pre">plume.rdf.widgetkey.ValueKey</span></code> et autres classes de clés héritant de <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">plume.rdf.widgetkey.WidgetKey</span></code></span>) reçoivent en paramètre la valeur de la nouvelle option. Le nom de ce paramètre est celui qui a été utilisé pour <span class="xref myst">la clé de <code class="docutils literal notranslate"><span class="pre">config</span></code></span> et/ou <span class="xref myst">le premier élément du tuple de <code class="docutils literal notranslate"><span class="pre">prop_map</span></code></span>, soit <code class="docutils literal notranslate"><span class="pre">geo_tools</span></code> dans le cas des fonctionnalités d’aide à la saisie des géométries.</p>
<p>Ce que font les clés de cette information peut être très variable. Pour <code class="docutils literal notranslate"><span class="pre">geo_tools</span></code>, il s’agissait de définir un nouveau bouton annexe et ses caractéristiques, et cela a nécessité les opérations suivantes.</p>
<p>Classe <code class="docutils literal notranslate"><span class="pre">WidgetKey</span></code> :</p>
<ul class="simple">
<li><p>Ajout d’une variable partagée <code class="docutils literal notranslate"><span class="pre">WidgetKey.with_geo_buttons</span></code> permettant d’inhiber la création des boutons d’aide à la saisie des géométries.</p></li>
<li><p>Modification de la méthode de classe <code class="docutils literal notranslate"><span class="pre">WidgetKey.reinitiate_shared_attributes</span></code> pour prendre en compte <code class="docutils literal notranslate"><span class="pre">WidgetKey.with_geo_buttons</span></code>.</p></li>
<li><p>Modification de la méthode de classe <code class="docutils literal notranslate"><span class="pre">WidgetKey.width</span></code> pour qu’elle référence le nombre de colonnes occupées par les boutons d’aide à la saisie des géométries.</p></li>
<li><p>Définition d’une propriété <code class="docutils literal notranslate"><span class="pre">WidgetKey.has_geo_button</span></code> (<em>getter</em> seul) valant toujours <code class="docutils literal notranslate"><span class="pre">False</span></code>.</p></li>
<li><p>Définition d’une propriété <code class="docutils literal notranslate"><span class="pre">WidgetKey.geo_button_placement</span></code> (<em>getter</em> seul) qui définit le placement du bouton d’aide à la saisie des géométries lorsqu’il existe.</p></li>
<li><p>Modification de la propriété <code class="docutils literal notranslate"><span class="pre">WidgetKey.minus_button_placement</span></code> pour que le bouton moins ne se superpose pas au bouton d’aide à la saisie des géométries lorsque les deux co-existent pour une même clé.</p></li>
<li><p>Modification de la propriété <code class="docutils literal notranslate"><span class="pre">WidgetKey.placement</span></code> pour que le widget de saisie occupe bien l’espace normalement dédié au bouton de calcul lorsqu’il n’y en a pas.</p></li>
</ul>
<p>Classe <code class="docutils literal notranslate"><span class="pre">ValueKey</span></code> :</p>
<ul class="simple">
<li><p>Re-définition de la propriété <code class="docutils literal notranslate"><span class="pre">WidgetKey.has_geo_button</span></code> (<em>getter</em> seul), avec cette fois les conditions d’apparition du bouton.</p></li>
<li><p>Ajout via <code class="docutils literal notranslate"><span class="pre">WidgetKey._base_attributes</span></code> d’un attribut interne <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey._geo_tools</span></code> mémorisant la configuration du bouton (<code class="docutils literal notranslate"><span class="pre">self._geo_tools</span> <span class="pre">=</span> <span class="pre">None</span></code>).</p></li>
<li><p>Définition d’une propriété <code class="docutils literal notranslate"><span class="pre">WidgetKey.geo_tools</span></code> (<em>getter</em> et <em>setter</em>) qui contrôle la mise à jour de <code class="docutils literal notranslate"><span class="pre">WidgetKey._geo_tools</span></code>, en s’assurant notamment de sa cohérence avec les autres attributs de la clé.</p></li>
<li><p>Modification des <em>setter</em> des propriétés dont dépend <code class="docutils literal notranslate"><span class="pre">WidgetKey.geo_tools</span></code> (en l’occurence <code class="docutils literal notranslate"><span class="pre">WidgetKey.datatype</span></code>) pour que leur mise à jour post initialisation entraîne celle de <code class="docutils literal notranslate"><span class="pre">WidgetKey.geo_tools</span></code> - <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">not</span> <span class="pre">self._is_unborn:</span> <span class="pre">self.geo_tools</span> <span class="pre">=</span> <span class="pre">self._geo_tools</span></code>.</p></li>
<li><p>Modification de <code class="docutils literal notranslate"><span class="pre">WidgetKey._computed_attributes</span></code> pour initialiser <code class="docutils literal notranslate"><span class="pre">WidgetKey.geo_tools</span></code> à partir du paramètre <code class="docutils literal notranslate"><span class="pre">geo_tools</span></code> reçu par le constructeur (<code class="docutils literal notranslate"><span class="pre">self.geo_tools</span> <span class="pre">=</span> <span class="pre">kwargs.get('geo_tools')</span></code>). L’ordre d’initialisation des propriétés est important, il faudra toujours s’assurer que la propriété est initialisée après toutes les propriétés dont elle dépend.</p></li>
<li><p>Ajout de <code class="docutils literal notranslate"><span class="pre">geo_tools</span></code> à la liste définie par la propriété <code class="docutils literal notranslate"><span class="pre">WidgetKey.attr_to_update</span></code>, car c’est une propriété dont il est admis de modifier la valeur post initialisation (ce qui devrait toujours être le cas pour les nouvelles propriétés).</p></li>
<li><p>Ajout de <code class="docutils literal notranslate"><span class="pre">geo_tools</span></code> au dictionnaire de la propriété <code class="docutils literal notranslate"><span class="pre">WidgetKey.attr_to_copy</span></code>, car elle doit être copiée lorsque le groupe est dupliqué (ce qui devrait toujours être le cas pour les nouvelles propriétés).</p></li>
</ul>
<p>Classe <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey</span></code> (car cette propriété doit être identique pour toutes les clés d’un même groupe de valeurs) :</p>
<ul class="simple">
<li><p>Ajout via <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey._base_attributes</span></code> d’un attribut interne <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey._geo_tools</span></code> mémorisant la configuration du bouton (<code class="docutils literal notranslate"><span class="pre">self._geo_tools</span> <span class="pre">=</span> <span class="pre">None</span></code>).</p></li>
<li><p>Définition d’une propriété <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey.geo_tools</span></code> (<em>getter</em> et <em>setter</em>) qui contrôle la mise à jour de <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey._geo_tools</span></code>, en s’assurant notamment de sa cohérence avec les autres attributs de la clé.</p></li>
<li><p>Modification des <em>setter</em> des propriétés dont dépend <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey.geo_tools</span></code> (en l’occurence <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey.datatype</span></code>) pour que leur mise à jour post initialisation entraîne celle de <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey.geo_tools</span></code> - <code class="docutils literal notranslate"><span class="pre">if</span> <span class="pre">not</span> <span class="pre">self._is_unborn:</span> <span class="pre">self.geo_tools</span> <span class="pre">=</span> <span class="pre">self._geo_tools</span></code>.</p></li>
<li><p>Modification de <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey._computed_attributes</span></code> pour initialiser <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey.geo_tools</span></code> à partir du paramètre <code class="docutils literal notranslate"><span class="pre">geo_tools</span></code> reçu par le constructeur (<code class="docutils literal notranslate"><span class="pre">self.geo_tools</span> <span class="pre">=</span> <span class="pre">kwargs.get('geo_tools')</span></code>). L’ordre d’initialisation des propriétés est important, il faudra toujours s’assurer que la propriété est initialisée après toutes les propriétés dont elle dépend.</p></li>
<li><p>Ajout de <code class="docutils literal notranslate"><span class="pre">geo_tools</span></code> à la liste définie par la propriété <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey.attr_to_update</span></code>, car c’est une propriété dont il est admis de modifier la valeur post initialisation (ce qui devrait toujours être le cas pour les nouvelles propriétés).</p></li>
<li><p>Ajout de <code class="docutils literal notranslate"><span class="pre">geo_tools</span></code> au dictionnaire de la propriété <code class="docutils literal notranslate"><span class="pre">GroupOfValuesKey.attr_to_copy</span></code>, car elle doit être copiée lorsque le groupe est dupliqué (ce qui devrait toujours être le cas pour les nouvelles propriétés).</p></li>
</ul>
</section>
<section id="dictionnaire-interne">
<h3>Dictionnaire interne<a class="headerlink" href="#dictionnaire-interne" title="Lien permanent vers ce titre">¶</a></h3>
<p><em>TODO</em></p>
</section>
<section id="dictionnaire-de-widgets">
<h3>Dictionnaire de widgets<a class="headerlink" href="#dictionnaire-de-widgets" title="Lien permanent vers ce titre">¶</a></h3>
<p><em>TODO</em></p>
</section>
<section id="generation-du-formulaire">
<h3>Génération du formulaire<a class="headerlink" href="#generation-du-formulaire" title="Lien permanent vers ce titre">¶</a></h3>
<p><em>TODO</em></p>
</section>
</section>
<section id="modifier-les-modeles-pre-configures-de-plumepg">
<h2>Modifier les modèles pré-configurés de <em>PlumePg</em><a class="headerlink" href="#modifier-les-modeles-pre-configures-de-plumepg" title="Lien permanent vers ce titre">¶</a></h2>
<p>Les modèles pré-configurés de l’extension PostgreSQL <em>PlumePg</em> sont définis dans le code de l’extension (fichier <code class="docutils literal notranslate"><span class="pre">plume_pg--x.x.x.sql</span></code> du répertoire <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">/postgresql</span></code></span>) et plus précisément dans le corps de la fonction <code class="docutils literal notranslate"><span class="pre">z_plume.meta_import_sample_template(text)</span></code>. Comme pour tout changement dans le code de <em>PlumePg</em>, leur modification devra donner lieu à une nouvelle version de <em>PlumePg</em>, outillée par un fichier <code class="docutils literal notranslate"><span class="pre">plume_pg--x.x.x-y.y.y.sql</span></code> permettant de passer de la version <code class="docutils literal notranslate"><span class="pre">x.x.x</span></code> à la version <code class="docutils literal notranslate"><span class="pre">y.y.y</span></code>.</p>
<p>Plume inclut par ailleurs des copies locales des modèles pré-configurés, qui permettent de bénéficier de quelques modèles basiques même si <em>PlumePg</em> n’est pas installée sur la base contenant la table ou vue à documenter. Ils sont stockés dans le fichier <span class="xref myst"><code class="docutils literal notranslate"><span class="pre">/plume/pg/data/templates.json</span></code></span>.</p>
<p>Une fois <em>PlumePg</em> modifiée, on pourra mettre à jour ce fichier avec la commande suivante :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span>
<span class="kn">from</span> <span class="nn">admin.plume_pg</span> <span class="kn">import</span> <span class="n">store_sample_templates</span>

<span class="n">store_sample_templates</span><span class="p">()</span>

</pre></div>
</div>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="local"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>La seule exception à cette règle est la variable <code class="docutils literal notranslate"><span class="pre">LOCAL</span></code>, qui a été choisie pour représenter le préfixe <code class="docutils literal notranslate"><span class="pre">uuid</span></code> parce qu”<code class="docutils literal notranslate"><span class="pre">UUID</span></code> est une classe du module <code class="docutils literal notranslate"><span class="pre">uuid</span></code> utilisée par ailleurs par Plume.</p>
</dd>
</dl>
</section>
</section>


              </div>
              
              
              <!-- Previous / next buttons -->
<div class='prev-next-area'>
    <a class='left-prev' id="prev-link" href="mechanism.html" title="précédent page">
        <i class="fas fa-angle-left"></i>
        <div class="prev-next-info">
            <p class="prev-next-subtitle">précédent</p>
            <p class="prev-next-title">Usage</p>
        </div>
    </a>
</div>
              
          </main>
          

      </div>
    </div>
  
    <script src="../_static/scripts/pydata-sphinx-theme.js?digest=1999514e3f237ded88cf"></script>
  <footer class="footer mt-5 mt-md-0">
  <div class="container">
    
    <div class="footer-item">
      <p class="copyright">
    &copy; Copyright 2022, République française.<br>
</p>
    </div>
    
    <div class="footer-item">
      <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.4.0.<br>
</p>
    </div>
    
  </div>
</footer>
  </body>
</html>