
<!DOCTYPE html>

<html lang="fr">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Version mineure 0.5.0 bêta (en cours de développement) &#8212; Documentation Plume 0.3.0-beta</title>
<script>
  document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
  document.documentElement.dataset.theme = localStorage.getItem("theme") || "light"
</script>

  <!-- Loaded before other Sphinx assets -->
  <link href="../_static/styles/theme.css?digest=92025949c220c2e29695" rel="stylesheet">
<link href="../_static/styles/pydata-sphinx-theme.css?digest=92025949c220c2e29695" rel="stylesheet">


  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />

  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695">

    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/translations.js"></script>
    <link rel="shortcut icon" href="../_static/plume.svg"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Recherche" href="../search.html" />
    <link rel="prev" title="Version mineure 0.4.1 bêta" href="v0_4_1_beta.html" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<meta name="docsearch:language" content="fr">
  </head>
  
  
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="180" data-default-mode="">
    <div class="bd-header-announcement container-fluid" id="banner">
      

    </div>

    
    <nav class="bd-header navbar navbar-light navbar-expand-lg bg-light fixed-top bd-navbar" id="navbar-main"><div class="bd-header__inner container-xl">

  <div id="navbar-start">
    
    
  


<a class="navbar-brand logo" href="../index.html">
  
  
  
  
    <img src="../_static/plume.svg" class="logo__image only-light" alt="Logo image">
    <img src="../_static/plume.svg" class="logo__image only-dark" alt="Logo image">
  
  
</a>
    
  </div>

  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbar-collapsible" aria-controls="navbar-collapsible" aria-expanded="false" aria-label="Toggle navigation">
    <span class="fas fa-bars"></span>
  </button>

  
  <div id="navbar-collapsible" class="col-lg-9 collapse navbar-collapse">
    <div id="navbar-center" class="mr-auto">
      
      <div class="navbar-center-item">
        <ul id="navbar-main-elements" class="navbar-nav">
    <li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../usage/usage.html">
  Usage
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../reference/modules.html">
  Référence
 </a>
</li>

<li class="toctree-l1 nav-item">
 <a class="reference internal nav-link" href="../mechanism/mechanism.html">
  Mécanique interne
 </a>
</li>

<li class="toctree-l1 current active nav-item">
 <a class="reference internal nav-link" href="changelog.html">
  Notes de version
 </a>
</li>

    
</ul>
      </div>
      
    </div>

    <div id="navbar-end">
      
      <div class="navbar-end-item">
        <span id="theme-switch" class="btn btn-sm btn-outline-primary navbar-btn rounded-circle">
    <a class="theme-switch" data-mode="light"><i class="fas fa-sun"></i></a>
    <a class="theme-switch" data-mode="dark"><i class="far fa-moon"></i></a>
    <a class="theme-switch" data-mode="auto"><i class="fas fa-adjust"></i></a>
</span>
      </div>
      
      <div class="navbar-end-item">
        <ul id="navbar-icon-links" class="navbar-nav" aria-label="Icon Links">
        <li class="nav-item">
          <a class="nav-link" href="https://github.com/MTES-MCT/metadata-postgresql" rel="noopener" target="_blank" title="GitHub"><span><i class="fab fa-github-square"></i></span>
            <label class="sr-only">GitHub</label></a>
        </li>
      </ul>
      </div>
      
    </div>
  </div>
</div>
    </nav>
    

    <div class="bd-container container-xl">
      <div class="bd-container__inner row">
          

<!-- Only show if we have sidebars configured, else just a small margin  -->
<div class="bd-sidebar-primary col-12 col-md-3 bd-sidebar">
  <div class="sidebar-start-items"><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search the docs ..." aria-label="Search the docs ..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <div class="bd-toc-item active">
    <ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="v0_3_1_beta.html">
   Version mineure 0.3.1 bêta
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="v0_3_2_beta.html">
   Version mineure 0.3.2 bêta
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="v0_4_0_beta.html">
   Version 0.4.0 bêta
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="v0_4_1_beta.html">
   Version mineure 0.4.1 bêta
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Version mineure 0.5.0 bêta (en cours de développement)
  </a>
 </li>
</ul>

  </div>
</nav>
  </div>
  <div class="sidebar-end-items">
  </div>
</div>


          


<div class="bd-sidebar-secondary d-none d-xl-block col-xl-2 bd-toc">
  
    
    <div class="toc-item">
      
<div class="tocsection onthispage mt-5 pt-1 pb-3">
    <i class="fas fa-list"></i> On this page
</div>

<nav id="bd-toc-nav">
    <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#import-de-metadonnees-depuis-un-fichier-xml-conforme-inspire">
   Import de métadonnées depuis un fichier XML conforme INSPIRE
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#nettoyage-des-infobulles-de-l-explorateur">
   Nettoyage des infobulles de l’explorateur
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#prise-en-charge-effective-des-metadonnees-de-type-heure">
   Prise en charge effective des métadonnées de type heure
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#correction-d-anomalies-et-divers">
   Correction d’anomalies et divers
  </a>
 </li>
</ul>

</nav>
    </div>
    
    <div class="toc-item">
      
    </div>
    
  
</div>


          
          
          <div class="bd-content col-12 col-md-9 col-xl-7">
              
              <article class="bd-article" role="main">
                
  <section id="version-mineure-0-5-0-beta-en-cours-de-developpement">
<h1>Version mineure 0.5.0 bêta (en cours de développement)<a class="headerlink" href="#version-mineure-0-5-0-beta-en-cours-de-developpement" title="Lien permanent vers ce titre">#</a></h1>
<p><em>Date de publication : à venir aux alentours du 1er juillet 2022.</em></p>
<p><em>Sur GitHub : à venir.</em></p>
<p>Plume v0.5 bêta est vraisemblablement la denière version précédant le déploiement officiel de Plume (hors correctifs éventuels). Elle poursuit la mise à disposition des fonctionnalités essentielles pour la saisie et la consultation des métadonnées.</p>
<section id="import-de-metadonnees-depuis-un-fichier-xml-conforme-inspire">
<h2>Import de métadonnées depuis un fichier XML conforme INSPIRE<a class="headerlink" href="#import-de-metadonnees-depuis-un-fichier-xml-conforme-inspire" title="Lien permanent vers ce titre">#</a></h2>
<p>Plume v0.5 bêta propose une nouvelle fonctionnalité d’import, qui permet de lire le contenu d’un fichier XML conforme aux spécifications d’INSPIRE. Elle est accessible, tout comme les autres méthodes d’import, via le menu <img alt="import.svg" src="../_images/import.svg" /> <em>Importer les métadonnées</em> de la barre d’outils de Plume. À noter qu’elle présente les mêmes limitations que l”<a class="reference internal" href="../usage/actions_generales.html#import-de-metadonnees-depuis-un-service-csw-inspire"><span class="std std-doc">import de métadonnées INSPIRE via un service CSW</span></a>, notamment en ce qui concerne les catégories de métadonnées prises en charge à ce stade.</p>
<p><em>Réference : <a class="reference external" href="https://github.com/MTES-MCT/metadata-postgresql/issues/72">issue #72</a>.</em></p>
</section>
<section id="nettoyage-des-infobulles-de-l-explorateur">
<h2>Nettoyage des infobulles de l’explorateur<a class="headerlink" href="#nettoyage-des-infobulles-de-l-explorateur" title="Lien permanent vers ce titre">#</a></h2>
<p>Parce que Plume enregistre les métadonnées des tables et vues dans leurs descriptifs PostgreSQL, ceux-ci deviennent immanquablement rapidement illisibles. S’il n’existe pas de méthode miracle pour résoudre globalement cette problématique d’ergonomie intrinsèque, Plume v0.5 bêta offre une solution pour l’une des situations où elle était particulièrement prégnante : lorsque QGIS affiche le contenu du descriptif PostgreSQL au survol d’une couche dans l’explorateur.</p>
<p>Ainsi, Plume est désormais capable d’alléger les infobulles de l’explorateur en « supprimant » le cas échéant les balises <code class="docutils literal notranslate"><span class="pre">&lt;METADATA&gt;</span></code> et le JSON-LD qu’elles contiennent<a class="footnote-reference brackets" href="#suppression" id="id1">1</a>. Il ajoute également un message qui signale que des métadonnées sont disponibles pour la couche, et - au gré de l’utilisateur - peut changer l’apparence de l’infobulle (logo de Plume, fond coloré…) pour que l’utilisateur sache immédiatement si la couche est documentée. La transformation est active par défaut, mais elle peut être inhibée et/ou reconfigurée via le menu <img alt="configuration.svg" src="../_images/configuration.svg" /> <em>Personnalisation de l’interface</em>. Il est en outre possible de paramétrer Plume, toujours via le menu <img alt="configuration.svg" src="../_images/configuration.svg" /> <em>Personnalisation de l’interface</em>, pour que les balises <code class="docutils literal notranslate"><span class="pre">&lt;METADATA&gt;</span></code> soient remplacées par le libellé de la table/vue extrait des métadonnées (s’il existe) au lieu d’être purement et simplement effacées.</p>
<p><em>Réference : <a class="reference external" href="https://github.com/MTES-MCT/metadata-postgresql/issues/67">issue #67</a>.</em></p>
</section>
<section id="prise-en-charge-effective-des-metadonnees-de-type-heure">
<h2>Prise en charge effective des métadonnées de type heure<a class="headerlink" href="#prise-en-charge-effective-des-metadonnees-de-type-heure" title="Lien permanent vers ce titre">#</a></h2>
<p>Plume est maintenant capable d’afficher et modifier des métadonnées prenant pour valeur des heures (<code class="docutils literal notranslate"><span class="pre">datatype</span></code> valant <code class="docutils literal notranslate"><span class="pre">'xsd:time'</span></code>). Ceci ne concerne que d’éventuelles catégories locales ajoutées par l’administrateur d’un service, car aucune catégorie commune n’est de ce type.</p>
<p><em>Réference : <a class="reference external" href="https://github.com/MTES-MCT/metadata-postgresql/issues/12">issue #12</a>.</em></p>
</section>
<section id="correction-d-anomalies-et-divers">
<h2>Correction d’anomalies et divers<a class="headerlink" href="#correction-d-anomalies-et-divers" title="Lien permanent vers ce titre">#</a></h2>
<p>En mode lecture, ou plus généralement quand Plume est paramétré pour n’afficher que les métadonnées dans la langue principale<a class="footnote-reference brackets" href="#mainlanguage" id="id2">2</a>, la fiche de métadonnées présente les informations saisies dans ladite langue lorsqu’elles existent et masque alors toutes les informations dans les autres langues. Si aucune valeur n’est disponible dans langue principale pour une métadonnée traduisible, Plume affiche une valeur (et une seule) dans une autre langue, en privilégiant les langues de la liste des langues autorisées pour les traductions, considérées dans l’ordre de la liste. Ce mécanisme était affecté par une anomalie qui empêchait parfois l’affichage de la valeur dans la langue de substitution, Plume v0.5 bêta la corrige.</p>
<p>Correction d’une anomalie qui provoquait une erreur en cas de tentative d’utilisation des fonctionnalités d’aide à la saisie des géométries sur une catégorie de métadonnées locale de type géométrique (<code class="docutils literal notranslate"><span class="pre">datatype</span></code> valant <code class="docutils literal notranslate"><span class="pre">'gsp:wktLiteral'</span></code>) non paramétrée avec <code class="docutils literal notranslate"><span class="pre">is_long_text</span></code> valant <code class="docutils literal notranslate"><span class="pre">True</span></code>. Désormais, <code class="docutils literal notranslate"><span class="pre">is_long_text</span></code> sera considéré comme valant toujours <code class="docutils literal notranslate"><span class="pre">True</span></code> pour les métadonnées géométriques (même si l’administrateur a spécifié <code class="docutils literal notranslate"><span class="pre">False</span></code> dans son modèle). Ces métadonnées seront dès lors quoi qu’il arrive présentées par Plume avec un champ de saisie multi-lignes.</p>
<p>Pour améliorer la lisibilité des fiches de métadonnées, le cadre extérieur qui contenait l’ensemble des métadonnées de chaque onglet est supprimé. <em>Réference : <a class="reference external" href="https://github.com/MTES-MCT/metadata-postgresql/issues/75">issue #75</a>.</em></p>
<hr class="footnotes docutils" />
<dl class="footnote brackets">
<dt class="label" id="suppression"><span class="brackets"><a class="fn-backref" href="#id1">1</a></span></dt>
<dd><p>Les métadonnées disparaissent uniquement de l’infobulle, le descriptif PostgreSQL n’est bien évidemment pas affecté.</p>
</dd>
<dt class="label" id="mainlanguage"><span class="brackets"><a class="fn-backref" href="#id2">2</a></span></dt>
<dd><p>Il s’agit de la langue que l’utilisateur peut sélectionner via la barre d’outils de Plume en choisissant dans la liste des langues autorisées pour les traductions. Cette liste est elle-même un paramètre utilisateur configurable via le menu <img alt="configuration.svg" src="../_images/configuration.svg" />  <em>Personnalisation de l’interface</em>.</p>
</dd>
</dl>
</section>
</section>


              </article>
              

              
              <footer class="bd-footer-article">
                  <!-- Previous / next buttons -->
<div class='prev-next-area'>
  <a class='left-prev' id="prev-link" href="v0_4_1_beta.html" title="précédent page">
      <i class="fas fa-angle-left"></i>
      <div class="prev-next-info">
          <p class="prev-next-subtitle">précédent</p>
          <p class="prev-next-title">Version mineure 0.4.1 bêta</p>
      </div>
  </a>
</div>
              </footer>
              
          </div>
          
      </div>
    </div>

  
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../_static/scripts/pydata-sphinx-theme.js?digest=92025949c220c2e29695"></script>

<footer class="bd-footer"><div class="bd-footer__inner container">
  
  <div class="footer-item">
    <p class="copyright">
    &copy; Copyright 2022, République française.<br>
</p>
  </div>
  
  <div class="footer-item">
    <p class="sphinx-version">
Created using <a href="http://sphinx-doc.org/">Sphinx</a> 4.5.0.<br>
</p>
  </div>
  
</div>
</footer>
  </body>
</html>